---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
---

<Layout title="Obstacles - Nostr BCH" description="Technical challenges and obstacles in integrating Bitcoin Cash with the Nostr protocol">
  <Header />
  
  <main class="pt-16">
    <section class="bg-gradient-to-br from-bch-green to-bch-dark-green dark:from-bch-dark-green dark:to-green-800 text-white py-20 transition-colors duration-300">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h1 class="text-4xl md:text-5xl font-bold mb-6">Technical Opportunities</h1>
        <p class="text-xl text-orange-100 dark:text-orange-200 max-w-3xl mx-auto">
          Understanding the challenges and barriers to integrating Bitcoin Cash with the Nostr ecosystem
        </p>
      </div>
    </section>
    
    <section class="py-16 bg-white dark:bg-gray-900 transition-colors duration-300">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="mb-12">
          <div class="bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400 p-6 rounded-r-lg mb-8">
            <div class="flex">
              <div class="flex-shrink-0">
                <svg class="h-6 w-6 text-yellow-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z" />
                </svg>
              </div>
              <div class="ml-3">
                <h3 class="text-lg font-medium text-yellow-800 dark:text-yellow-200">Current State</h3>
                <p class="mt-2 text-yellow-700 dark:text-yellow-300">
                  While the vision of Nostr BCH is compelling, there are technical obstacles that need to be addressed for seamless integration. This page outlines the key challenges and potential solutions.
                </p>
              </div>
            </div>
          </div>
        </div>

        <div class="space-y-12">
          <div class="bg-gray-50 dark:bg-gray-800 rounded-xl p-8 border dark:border-gray-700">
            <div class="flex items-start space-x-4">
              <div class="flex-shrink-0 w-12 h-12 bg-red-500 rounded-full flex items-center justify-center">
                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path>
                </svg>
              </div>
              <div class="flex-1">
                <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">Protocol Mismatch</h2>
                <p class="text-gray-600 dark:text-gray-300 mb-4">
                  NIP-57 (Lightning Zaps) is inherently designed for the Bitcoin Lightning Network. It relies on Lightning invoices (lud06 and lud16 in NIP-57 refer to Lightning URLs/Addresses), which are specific to the Lightning Network's payment channels built on top of Bitcoin (BTC).
                </p>
                <p class="text-gray-600 dark:text-gray-300 mb-4">
                  Bitcoin Cash operates on a separate blockchain with its own transaction mechanisms, making direct compatibility impossible without significant protocol modifications.
                </p>
                <div class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4">
                  <h4 class="font-semibold text-red-800 dark:text-red-200 mb-2">Key Issues:</h4>
                  <ul class="text-red-700 dark:text-red-300 text-sm space-y-1">
                    <li>• Different address formats (CashAddr vs Lightning addresses)</li>
                    <li>• Incompatible payment request structures</li>
                    <li>• Separate blockchain validation requirements</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>

          <div class="bg-gray-50 dark:bg-gray-800 rounded-xl p-8 border dark:border-gray-700">
            <div class="flex items-start space-x-4">
              <div class="flex-shrink-0 w-12 h-12 bg-orange-500 rounded-full flex items-center justify-center">
                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                </svg>
              </div>
              <div class="flex-1">
                <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">Nostr Ecosystem Expectations</h2>
                <p class="text-gray-600 dark:text-gray-300 mb-4">
                  The current Nostr ecosystem, including relays and client implementations, largely assumes Lightning Network (BTC) for zaps. Users expect to provide a Lightning Address, and clients are built to generate and pay Lightning invoices.
                </p>
                <p class="text-gray-600 dark:text-gray-300 mb-4">
                  Introducing a BCH-based "zap" would require significant changes to client-side wallet integrations and relay-side payment processing, creating a chicken-and-egg adoption problem.
                </p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div class="bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4">
                    <h4 class="font-semibold text-orange-800 dark:text-orange-200 mb-2">Current State</h4>
                    <ul class="text-orange-700 dark:text-orange-300 text-sm space-y-1">
                      <li>• Lightning-first design</li>
                      <li>• BTC wallet integrations</li>
                      <li>• Lightning invoice expectations</li>
                    </ul>
                  </div>
                  <div class="bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4">
                    <h4 class="font-semibold text-green-800 dark:text-green-200 mb-2">BCH Requirements</h4>
                    <ul class="text-green-700 dark:text-green-300 text-sm space-y-1">
                      <li>• BCH wallet integrations</li>
                      <li>• CashAddr support</li>
                      <li>• New payment flow UX</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="bg-gray-50 dark:bg-gray-800 rounded-xl p-8 border dark:border-gray-700">
            <div class="flex items-start space-x-4">
              <div class="flex-shrink-0 w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center">
                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                </svg>
              </div>
              <div class="flex-1">
                <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">Wallet and Infrastructure Support</h2>
                <p class="text-gray-600 dark:text-gray-300 mb-6">
                  To enable BCH zaps, significant infrastructure development would be required across the entire stack:
                </p>
                <div class="space-y-4">
                  <div class="border-l-4 border-purple-400 pl-4">
                    <h4 class="font-semibold text-gray-900 dark:text-white mb-2">Client-Side Requirements</h4>
                    <ul class="text-gray-600 dark:text-gray-300 text-sm space-y-1">
                      <li>• Nostr clients to integrate BCH wallets capable of generating and paying BCH-specific payment requests</li>
                      <li>• Support for CashAddr format and future BCH layer-2 payment identifiers</li>
                      <li>• New UI/UX patterns for BCH payment flows</li>
                    </ul>
                  </div>
                  <div class="border-l-4 border-purple-400 pl-4">
                    <h4 class="font-semibold text-gray-900 dark:text-white mb-2">Relay Infrastructure</h4>
                    <ul class="text-gray-600 dark:text-gray-300 text-sm space-y-1">
                      <li>• Relays to support receiving and forwarding BCH payment requests</li>
                      <li>• Integration with BCH payment processors</li>
                      <li>• BCH transaction validation and confirmation tracking</li>
                    </ul>
                  </div>
                  <div class="border-l-4 border-purple-400 pl-4">
                    <h4 class="font-semibold text-gray-900 dark:text-white mb-2">Payment Processing</h4>
                    <ul class="text-gray-600 dark:text-gray-300 text-sm space-y-1">
                      <li>• BCH payment gateway integrations</li>
                      <li>• Real-time transaction monitoring</li>
                      <li>• Fallback mechanisms for failed payments</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="bg-gray-50 dark:bg-gray-800 rounded-xl p-8 border dark:border-gray-700">
            <div class="flex items-start space-x-4">
              <div class="flex-shrink-0 w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center">
                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"></path>
                </svg>
              </div>
              <div class="flex-1">
                <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">Relay Compatibility</h2>
                <p class="text-gray-600 dark:text-gray-300 mb-4">
                  Existing Nostr relays that support NIP-57 are configured to validate and process Lightning Network invoices. They would need significant updates to understand and handle BCH payment requests.
                </p>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div>
                    <h4 class="font-semibold text-gray-900 dark:text-white mb-3">Current Relay Limitations</h4>
                    <ul class="text-gray-600 dark:text-gray-300 text-sm space-y-2">
                      <li class="flex items-start">
                        <span class="text-red-500 mr-2">×</span>
                        Lightning invoice validation only
                      </li>
                      <li class="flex items-start">
                        <span class="text-red-500 mr-2">×</span>
                        BTC-specific payment verification
                      </li>
                      <li class="flex items-start">
                        <span class="text-red-500 mr-2">×</span>
                        No BCH address recognition
                      </li>
                    </ul>
                  </div>
                  <div>
                    <h4 class="font-semibold text-gray-900 dark:text-white mb-3">Required Updates</h4>
                    <ul class="text-gray-600 dark:text-gray-300 text-sm space-y-2">
                      <li class="flex items-start">
                        <span class="text-green-500 mr-2">✓</span>
                        BCH payment request parsing
                      </li>
                      <li class="flex items-start">
                        <span class="text-green-500 mr-2">✓</span>
                        CashAddr validation
                      </li>
                      <li class="flex items-start">
                        <span class="text-green-500 mr-2">✓</span>
                        BCH blockchain monitoring
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="bg-gray-50 dark:bg-gray-800 rounded-xl p-8 border dark:border-gray-700">
            <div class="flex items-start space-x-4">
              <div class="flex-shrink-0 w-12 h-12 bg-green-500 rounded-full flex items-center justify-center">
                <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                </svg>
              </div>
              <div class="flex-1">
                <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">Standardization and Adoption</h2>
                <p class="text-gray-600 dark:text-gray-300 mb-4">
                  For BCH tips to gain traction, a clear standard (potentially a new NIP) would need to be proposed, discussed, and adopted by the Nostr community. This would define how BCH payment requests are embedded in Nostr events and how clients and relays should interact with them.
                </p>
                <div class="bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 mb-4">
                  <h4 class="font-semibold text-green-800 dark:text-green-200 mb-2">Potential Solutions</h4>
                  <ul class="text-green-700 dark:text-green-300 text-sm space-y-1">
                    <li>• Draft a new NIP for BCH integration (e.g., NIP-BCH)</li>
                    <li>• Extend NIP-57 to support multiple payment methods</li>
                    <li>• Create BCH-specific event kinds for payments</li>
                    <li>• Develop interoperability standards</li>
                  </ul>
                </div>
                <p class="text-gray-600 dark:text-gray-300">
                  Without this standardization, interoperability would be limited, and adoption would remain fragmented across different implementations.
                </p>
              </div>
            </div>
          </div>
        </div>

        <div class="mt-16 bg-gradient-to-r from-yellow-500 to-orange-500 dark:from-yellow-600 dark:to-orange-600 rounded-xl p-8 text-white">
          <h2 class="text-2xl font-bold mb-4">The Path Forward</h2>
          <p class="mb-6">
            While these obstacles are significant, they're not insurmountable. The key is building a parallel infrastructure and standardization within the Nostr ecosystem, rather than attempting a direct plug-and-play replacement for the existing NIP-57 Lightning integration.
          </p>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <h3 class="font-semibold mb-3">Short-term Solutions</h3>
              <ul class="space-y-2 text-sm">
                <li>• Manual BCH tipping via direct transactions</li>
                <li>• BCH-focused Nostr clients and relays</li>
                <li>• Community-driven proof of concepts</li>
              </ul>
            </div>
            <div>
              <h3 class="font-semibold mb-3">Long-term Vision</h3>
              <ul class="space-y-2 text-sm">
                <li>• Standardized BCH payment NIPs</li>
                <li>• Universal client support</li>
                <li>• Seamless multi-currency zapping</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>
  
  <Footer />
</Layout>